package NYT.NOrm.NDataModel;

import "yt_proto/yt/orm/client/proto/object.proto";

option java_package = "ru.yandex.yt.yt_proto.yt.orm.data_model";
option go_package = "go.ytsaurus.tech/yt/yt_proto/yt/orm/data_model";

////////////////////////////////////////////////////////////////////////////////

message TObjectAddFinalizer
{
    option (NYT.NOrm.NClient.NProto.in_place) = true;

    optional string finalizer_name = 1;
}

message TObjectRemoveFinalizer
{
    option (NYT.NOrm.NClient.NProto.in_place) = true;

    optional string finalizer_name = 1;
}

message TObjectCompleteFinalization
{
    option (NYT.NOrm.NClient.NProto.in_place) = true;

    optional string finalizer_name = 1;
}

message TFinalizer
{
    option (NYT.NOrm.NClient.NProto.in_place) = true;

    // User who added finalizer.
    optional string user_id = 1;

    // Start timestamp of transaction, that completed finalization.
    optional uint64 completion_timestamp = 2;
}

////////////////////////////////////////////////////////////////////////////////
