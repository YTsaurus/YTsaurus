## Usage

ORM code generator library. Link into your project as python3 program.
[Example](https://a.yandex-team.ru/arc/trunk/arcadia/yt/yt/orm/example/codegen)

`ya.make`:
```
PY3_PROGRAM()

PY_SRCS(__main__.py)

PEERDIR(
    <path to proto library with objects description>
    yt/yt/orm/python/orm/codegen/generator
)

INCLUDE(${ARCADIA_ROOT}/yt/yt/orm/codegen/generator/induced_deps.inc)

END()
```

`__main__.py`:
```python
# !/usr/bin/python3

from yt.yt.orm.codegen.generator import main
import <your package> as data_model

if __name__ == "__main__":
    context = {
        "cpp_server_namespace": "<server code namespace, e.g. NExample::NServer>",
        "client_misc_cpp_namespace": "<client misc module code namespace, e.g. NExample::NClient>",

        "client_proto_package": "<client protobuf package name, e.g. NExample.NClient>",
        "data_model_proto_package": "<data model protobuf package name, e.g. NExample.NDataModel>",
        "server_proto_package": "<internal protobuf package name, e.g. NExample.NServer>",

        "client_java_package": "<java client package name, e.g. ru.yandex.example.client>",
        "server_java_package": "<java server package name, e.g. ru.yandex.example.server>",

        "client_go_package": "<golang client package name, e.g. a.yandex-team.ru/example/client>",
        "server_go_package": "<golang server package name, e.g. a.yandex-team.ru/example/server>",

        "client_misc_lib": "<arcadia path to autogenerated client misc library, e.q. example/client/misc/autogen>",

        "client_schema_h": "<arcadia path to client autogen, e.g. example/client/autogen/schema.pb.h>",
        "server_proto_path": "<arcadia path to server autogen directory, containing etc, continuation token, e.g. example/server/autogen>",
        "client_schema_proto": "<arcadia path to client autogen, e.g. example/client/autogen/schema.proto>",

        "data_model_proto_path": "<proto with user defined protos like objects and access control>",
        "disable_dynamic_config_manager": True # For disabling default dynamic config manager.
    }

    main.run(context, data_model)
```

## Commands
- `client_proto` - generates protobuf files with GRPC services for client use
- `data_model_proto` - generates protobuf file with database schema for client use
- `server_proto` - generates protobuf file with database schema for internal use
